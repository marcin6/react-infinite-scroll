{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/marcin/Desktop/projects/react_workspace/infinite-scroll-app/src/components/Elements.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { styles } from './Styles';\nexport default function Elements() {\n  _s();\n\n  const [elements, setElements] = useState([]);\n  const [count, setCount] = useState(1);\n  const [loading, setLoading] = useState();\n  const url = 'https://reqres.in/api/users?page=' + count;\n\n  const increment = () => setCount(c => {\n    if (c >= 2) return c;\n    return c + 1;\n  });\n\n  const decrement = () => setCount(c => {\n    if (c <= 1) return c;\n    return c - 1;\n  });\n\n  ;\n  const getElements = useCallback(() => {\n    fetch(url).then(res => res.json()).then(result => setElements(prevState => [...prevState, ...result.data]), setLoading(false));\n  }, [url]);\n\n  const handleScroll = () => {\n    if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || loading) return;\n    setLoading(true);\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  });\n  useEffect(() => {\n    if (!loading) return;\n    getElements();\n  }, [loading, getElements]);\n  useEffect(() => {\n    setElements([]);\n    getElements();\n  }, [count, getElements]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    style: styles.mainContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.header,\n      children: \"Infinite scroll\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-container\",\n      style: styles.btnContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: decrement,\n        style: styles.btn,\n        children: \"Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: increment,\n        style: styles.btn,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-container\",\n      style: styles.pageContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Page-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: styles.table,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: styles.tr,\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), elements.map((element, idx) => /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: styles.tr,\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: element.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: element.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: element.first_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: element.last_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: element.avatar,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.loader,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Loading ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 52\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Elements, \"jbnO5YGBdrFwUDnIUIGwxDMyLaU=\");\n\n_c = Elements;\n\nvar _c;\n\n$RefreshReg$(_c, \"Elements\");","map":{"version":3,"sources":["/Users/marcin/Desktop/projects/react_workspace/infinite-scroll-app/src/components/Elements.js"],"names":["React","useState","useEffect","useCallback","styles","Elements","elements","setElements","count","setCount","loading","setLoading","url","increment","c","decrement","getElements","fetch","then","res","json","result","prevState","data","handleScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","addEventListener","removeEventListener","mainContainer","header","btnContainer","btn","pageContainer","table","tr","th","map","element","idx","id","email","first_name","last_name","avatar","loader"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { styles } from './Styles';\n\nexport default function Elements() {\n    const [elements, setElements] = useState([]);\n    const [count, setCount] = useState(1);\n    const [loading, setLoading] = useState();\n    const url = 'https://reqres.in/api/users?page=' + count;\n\n    const increment = () => setCount(c => {\n        if (c >= 2) return c;\n        return c + 1;\n    });\n\n    const decrement = () => setCount(c => {\n        if (c <= 1) return c;\n        return c - 1;\n    });;\n\n    const getElements = useCallback(() => {\n        fetch(url)\n            .then(res => res.json())\n            .then(result =>\n                setElements(prevState => ([...prevState, ...result.data])),\n                setLoading(false)\n            )\n    }, [url])\n\n    const handleScroll = () => {\n        if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || loading) return;\n        setLoading(true);\n    }\n\n    useEffect(() => {\n        window.addEventListener('scroll', handleScroll);\n        return () => window.removeEventListener('scroll', handleScroll);\n    });\n\n    useEffect(() => {\n        if (!loading)  return;\n        getElements();\n    }, [loading, getElements]); \n    \n    useEffect(() => {\n        setElements([]);\n        getElements();\n    }, [count, getElements])\n\n\n    return (\n        <div className=\"main-container\" style={styles.mainContainer} >\n            <h2 style={styles.header}>Infinite scroll</h2>\n            <div className=\"btn-container\" style={styles.btnContainer}>\n                <button onClick={decrement} style={styles.btn} >Prev</button>\n                <button onClick={increment} style={styles.btn}>Next</button>\n            </div>\n            <div className=\"page-container\" style={styles.pageContainer}>\n                <div>Page-</div>\n                <div>{count}</div>\n            </div>\n            <table style={styles.table}>\n                <thead>\n                    <tr style={styles.tr}>\n                        <th style={styles.th}>ID</th>\n                        <th style={styles.th}>Email</th>\n                        <th style={styles.th}>First Name</th>\n                        <th style={styles.th}>Last Name</th>\n                        <th style={styles.th}>Avatar</th>\n                    </tr>\n                </thead>\n                {elements.map((element, idx) =>\n                    <tbody key={idx} >\n                        <tr style={styles.tr}>\n                            <td>{element.id}</td>\n                            <td>{element.email}</td>\n                            <td>{element.first_name}</td>\n                            <td>{element.last_name}</td>\n                            <td><img src={element.avatar} alt=\"\"/></td>\n                        </tr>\n                    </tbody>)}\n            </table>\n            {loading && <div style={styles.loader}><span >Loading ...</span></div>}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}